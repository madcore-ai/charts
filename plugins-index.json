{
  "products": [
    {
      "id": "madcore.core",
      "type": "internal",
      "image": "https://wiki.madcore.ai/_media/app/iconproductcore001.png",
      "description": "Starter madcore cluster",
      "bullets": [
        "Core"
      ],
      "text_active": "Active",
      "text_buy": "Build",
      "text_invactive": "Inactive",
      "text_prerequesite": "Prerequisite missing",
      "frame_color": "blue"
    },
    {
      "id": "madcore.cluster.spark",
      "type": "internal",
      "image": "https://wiki.madcore.ai/_media/app/iconproductpluginkubernetes001.png",
      "description": "Madcore spark cluster",
      "bullets": [
        "Cluster",
        "Spark"
      ],
      "text_active": "Active",
      "text_buy": "Build",
      "text_invactive": "Inactive",
      "text_prerequesite": "Prerequisite missing",
      "frame_color": "blue"
    },
    {
      "id": "spark",
      "type": "plugin",
      "image": "https://wiki.madcore.ai/_media/app/iconproductpluginspark001.png",
      "description": "Apache Spark",
      "bullets": [
        "Machine Learning",
        "Data Mining",
        "Apache Foundation"
      ],
      "text_active": "Active",
      "text_buy": "$2.99",
      "text_invactive": "Inactive",
      "text_prerequesite": "Prerequisite missing",
      "frame_color": "gold",
      "parameters": [
        {
          "name": "app_name",
          "value": "spark",
          "description": "Plugin app name",
          "type": "string"
        }
      ],
      "jobs": [
        {
          "name": "submit.jar",
          "parameters": [
            {
              "name": "class",
              "value": "graphx.SynthBenchmark",
              "description": "Define the class name to use from example. Class name should be relative to: org.apache.spark.examples",
              "type": "string"
            },
            {
              "name": "app_args",
              "value": "-app=pagerank -niters=11",
              "description": "Input parameters for the example",
              "type": "string"
            },
            {
              "name": "spark_args",
              "value": "--executor-memory 1G",
              "description": "Define extra args for spark",
              "type": "string"
            }
          ]
        },
        {
          "name": "submit.py",
          "parameters": [
            {
              "name": "py_file",
              "value": "pi.py",
              "description": "Define the py files from examples.",
              "type": "string"
            },
            {
              "name": "app_args",
              "value": "10",
              "description": "Input parameters for the example script.",
              "type": "string"
            },
            {
              "name": "spark_args",
              "value": "--executor-memory 1G",
              "description": "Define extra args for spark",
              "type": "string"
            }
          ]
        }
      ]
    },
    {
      "id": "slack",
      "type": "plugin",
      "image": "https://wiki.madcore.ai/_media/app/iconproductpluginslack001.png",
      "description": "Slack API",
      "bullets": [
        "Slack API",
        "Sync channels to S3",
        "Post messages to Slack"
      ],
      "text_active": "Active",
      "text_buy": "$2.99",
      "text_invactive": "Inactive",
      "text_prerequesite": "Prerequisite missing",
      "frame_color": "gold",
      "parameters": [
        {
          "name": "app_name",
          "value": "slack",
          "description": "Plugin app name",
          "type": "string"
        }
      ],
      "jobs": [
        {
          "name": "deploy",
          "parameters": [
            {
              "name": "slack_token",
              "value": null,
              "description": "Slack API token.",
              "type": "string"
            }
          ]
        },
        {
          "name": "pull",
          "parameters": [
            {
              "name": "all_channels",
              "value": null,
              "description": "In case that you want to sync all the channels, set this.",
              "type": "bool"
            },
            {
              "name": "channels",
              "value": null,
              "description": "List of slack channels(comma separated) to pull from.",
              "type": "string"
            },
            {
              "name": "s3_bucket",
              "value": "{{ MADCORE_S3_BUCKET }}",
              "description": "S3 bucket name to sync data to.",
              "type": "string"
            }
          ]
        },
        {
          "name": "push",
          "parameters": [
            {
              "name": "channel",
              "value": null,
              "description": "Slack channel name to post message to.",
              "type": "string"
            },
            {
              "name": "message",
              "value": null,
              "description": "Slack text message to post.",
              "type": "string"
            }
          ]
        }
      ]
    },
    {
      "id": "flasker",
      "type": "plugin",
      "image": "https://wiki.madcore.ai/_media/app/iconproductpluginslack001.png",
      "description": "Flasker",
      "bullets": [
        "Flasker"
      ],
      "text_active": "Active",
      "text_buy": "$2.99",
      "text_invactive": "Inactive",
      "text_prerequesite": "Prerequisite missing",
      "frame_color": "gold",
      "parameters": [
        {
          "name": "app_name",
          "value": "flasker",
          "description": "Plugin app name",
          "type": "string"
        }
      ]
    },
    {
      "id": "flasker-hub",
      "type": "plugin",
      "image": "https://wiki.madcore.ai/_media/app/iconproductpluginslack001.png",
      "description": "Flasker-hub",
      "bullets": [
        "Flasker-hub"
      ],
      "text_active": "Active",
      "text_buy": "$2.99",
      "text_invactive": "Inactive",
      "text_prerequesite": "Prerequisite missing",
      "frame_color": "gold",
      "parameters": [
        {
          "name": "app_name",
          "value": "flasker-hub",
          "description": "Plugin app name",
          "type": "string"
        }
      ]
    },
    {
      "id": "k8s",
      "type": "cluster",
      "image": "https://wiki.madcore.ai/_media/app/iconproductpluginslack001.png",
      "description": "Kubernetes Cluster",
      "bullets": [
        "K8S Cluster"
      ],
      "text_active": "Active",
      "text_buy": "$2.99",
      "text_invactive": "Inactive",
      "text_prerequesite": "Prerequisite missing",
      "frame_color": "gold",
      "cloudformations": [
        {
          "name": "k8s_cluster",
          "stack_name": "MADCORE-K8sCluster",
          "template_file": "cf/cluster.json",
          "capabilities": [
            "CAPABILITY_IAM"
          ],
          "parameters": [
            {
              "name": "VpcId",
              "value": "{{ MADCORE_VPC_ID }}",
              "description": "VpcId",
              "type": "string"
            },
            {
              "name": "PublicNetZoneA",
              "value": "{{ MADCORE_PUBLIC_NET_ZONE_A }}",
              "description": "PublicNetZoneA",
              "type": "string"
            },
            {
              "name": "ClusterSubnetId",
              "value": "{{ (MADCORE_PRIVATE_IP.split('.')[0:3] + ['0'])|join('.') + '/24' }}",
              "description": "ClusterSubnetId",
              "type": "string"
            },
            {
              "name": "MasterIP",
              "value": "{{ MADCORE_PRIVATE_IP }}",
              "description": "MasterIP",
              "type": "string"
            },
            {
              "name": "S3BucketName",
              "value": "{{ MADCORE_S3_BUCKET }}",
              "description": "MasterIP",
              "type": "string"
            },
            {
              "name": "KeyName",
              "value": "{{ MADCORE_KEY_NAME }}",
              "description": "AWS KeyName",
              "type": "string"
            },
            {
              "name": "InstanceType",
              "value": null,
              "description": "AWS EC2 instance type.",
              "type": "string",
              "allowed": [
                "m3.medium",
                "m4.xlarge",
                "r3.large"
              ]
            },
            {
              "name": "SpotPrice",
              "value": null,
              "description": "AWS EC2 instance spot price.",
              "type": "string"
            },
            {
              "name": "MinSize",
              "value": 0,
              "description": "Cluster MinSize.",
              "type": "integer"
            },
            {
              "name": "MaxSize",
              "value": 0,
              "description": "Cluster MaxSize.",
              "type": "integer"
            },
            {
              "name": "DesiredCapacity",
              "value": 0,
              "description": "Cluster DesiredCapacity.",
              "type": "string"
            }
          ]
        }
      ],
      "jobs": [
        {
          "name": "deploy",
          "sequence": [
            {
              "type": "cloudformation",
              "name": "cluster_deploy",
              "description": "Deploy cluster using cloudformation",
              "job_name": "k8s_cluster",
              "action": "create"
            },
            {
              "type": "job",
              "name": "jenkins_deploy",
              "description": "Run jenkins deploy job",
              "job_name": "deploy"
            }
          ]
        },
        {
          "name": "delete",
          "sequence": [
            {
              "type": "cloudformation",
              "name": "cluster_remove",
              "description": "Remove cloudformation cluster",
              "job_name": "k8s_cluster",
              "action": "delete"
            },
            {
              "type": "job",
              "name": "jenkins_delete",
              "description": "Run jenkins delete job",
              "job_name": "delete"
            }
          ]
        },
        {
          "name": "status",
          "sequence": [
            {
              "type": "cloudformation",
              "name": "cluster_status",
              "description": "Check cloudformation cluster status",
              "job_name": "k8s_cluster",
              "action": "status"
            },
            {
              "type": "job",
              "name": "jenkins_status",
              "description": "Run jenkins status job",
              "job_name": "status"
            }
          ]
        }
      ]
    }
  ]
}
